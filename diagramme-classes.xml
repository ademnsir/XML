<?xml version="1.0" encoding="UTF-8"?>
<entities>
    <!-- Enums -->
    <enum name="UserRole">
        <value>ADMIN</value>
        <value>DEVELOPPER</value>
        <value>INFRA</value>
    </enum>

    <enum name="UserStatus">
        <value>ACTIF</value>
        <value>EN_ATTENTE</value>
        <value>SUSPENDU</value>
    </enum>

    <enum name="Status">
        <value>EN_COURS</value>
        <value>TERMINE</value>
        <value>EN_ATTENTE</value>
    </enum>

    <enum name="Priorite">
        <value>HAUTE</value>
        <value>MOYENNE</value>
        <value>BASSE</value>
    </enum>

    <enum name="Etat">
        <value>EN_COURS</value>
        <value>TERMINE</value>
        <value>EN_ATTENTE</value>
    </enum>

    <enum name="Priority">
        <value>LOW</value>
        <value>HIGH</value>
    </enum>

    <enum name="LivrableType">
        <value>BACKEND</value>
        <value>FRONTEND</value>
        <value>RAPPORT</value>
        <value>SCRIPT</value>
    </enum>

    <enum name="EnvType">
        <value>DEVELOPPEMENT</value>
        <value>TEST</value>
        <value>PRODUCTION</value>
    </enum>

    <enum name="ProtType">
        <value>HTTP</value>
        <value>HTTPS</value>
        <value>SSH</value>
    </enum>

    <enum name="ComponentType">
        <value>APPLICATION</value>
        <value>BASE_DONNEES</value>
        <value>SERVEUR</value>
    </enum>

    <enum name="CongeType">
        <value>ANNUEL</value>
        <value>MALADIE</value>
        <value>MATERNITE</value>
        <value>PATERNITE</value>
    </enum>

    <enum name="CongeStatus">
        <value>EN_ATTENTE</value>
        <value>APPROUVE</value>
        <value>REJETE</value>
    </enum>

    <!-- Entities -->
    <entity name="User">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="username" type="string"/>
            <attribute name="password" type="string"/>
            <attribute name="firstName" type="string"/>
            <attribute name="lastName" type="string"/>
            <attribute name="email" type="string"/>
            <attribute name="matricule" type="string"/>
            <attribute name="photo" type="string"/>
            <attribute name="role" type="UserRole"/>
            <attribute name="status" type="UserStatus"/>
            <attribute name="hireDate" type="Date"/>
            <attribute name="endDate" type="Date"/>
        </attributes>
        <relations>
            <relation name="projects" type="ManyToMany" target="Project"/>
            <relation name="tasks" type="OneToMany" target="Task"/>
            <relation name="conges" type="OneToMany" target="Conge"/>
            <relation name="notifications" type="OneToMany" target="Notification"/>
            <relation name="stagiaire" type="OneToMany" target="Stagiaire"/>
        </relations>
    </entity>

    <entity name="Project">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="name" type="string"/>
            <attribute name="status" type="Status"/>
            <attribute name="priorite" type="Priorite"/>
            <attribute name="etat" type="Etat"/>
            <attribute name="linkprojet" type="string"/>
            <attribute name="description" type="string"/>
            <attribute name="estimatedEndDate" type="Date"/>
        </attributes>
        <relations>
            <relation name="users" type="ManyToMany" target="User"/>
            <relation name="tasks" type="OneToMany" target="Task"/>
            <relation name="livrables" type="OneToMany" target="Livrable"/>
            <relation name="environnements" type="OneToMany" target="Environnement"/>
            <relation name="checklist" type="OneToMany" target="Checklist"/>
        </relations>
    </entity>

    <entity name="Task">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="title" type="string"/>
            <attribute name="description" type="string"/>
            <attribute name="status" type="string"/>
            <attribute name="priority" type="Priority"/>
            <attribute name="type" type="string"/>
            <attribute name="customType" type="string"/>
            <attribute name="creationDate" type="Date"/>
        </attributes>
        <relations>
            <relation name="project" type="ManyToOne" target="Project"/>
            <relation name="user" type="ManyToOne" target="User"/>
        </relations>
    </entity>

    <entity name="Stagiaire">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="firstName" type="string"/>
            <attribute name="lastName" type="string"/>
            <attribute name="email" type="string"/>
            <attribute name="specialite" type="string"/>
            <attribute name="dureeStage" type="number"/>
            <attribute name="dateDebut" type="Date"/>
            <attribute name="dateFin" type="Date"/>
            <attribute name="photo" type="string"/>
        </attributes>
        <relations>
            <relation name="user" type="ManyToOne" target="User"/>
        </relations>
    </entity>

    <entity name="Livrable">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="label" type="string"/>
            <attribute name="description" type="string"/>
            <attribute name="type" type="LivrableType"/>
        </attributes>
        <relations>
            <relation name="project" type="ManyToOne" target="Project"/>
            <relation name="technologies" type="ManyToMany" target="Technologie"/>
        </relations>
    </entity>

    <entity name="Technologie">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="label" type="string"/>
            <attribute name="description" type="string"/>
            <attribute name="version" type="string"/>
            <attribute name="language" type="string"/>
        </attributes>
        <relations>
            <relation name="livrables" type="ManyToMany" target="Livrable"/>
        </relations>
    </entity>

    <entity name="Environnement">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="nomServeur" type="string"/>
            <attribute name="systemeExploitation" type="string"/>
            <attribute name="ipServeur" type="string"/>
            <attribute name="port" type="number"/>
            <attribute name="type" type="EnvType"/>
            <attribute name="Ptype" type="ProtType"/>
            <attribute name="componentType" type="ComponentType"/>
            <attribute name="cpu" type="string"/>
            <attribute name="ram" type="string"/>
            <attribute name="stockage" type="string"/>
            <attribute name="logicielsInstalled" type="string[]"/>
            <attribute name="nomUtilisateur" type="string"/>
            <attribute name="motDePasse" type="string"/>
        </attributes>
        <relations>
            <relation name="project" type="ManyToOne" target="Project"/>
        </relations>
    </entity>

    <entity name="Checklist">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="spec" type="string"/>
            <attribute name="frs" type="string"/>
            <attribute name="lienGitFrontend" type="string"/>
            <attribute name="lienGitBackend" type="string"/>
        </attributes>
        <relations>
            <relation name="project" type="ManyToOne" target="Project"/>
        </relations>
    </entity>

    <entity name="Conge">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="userId" type="number"/>
            <attribute name="matricule" type="string"/>
            <attribute name="service" type="string"/>
            <attribute name="responsable" type="string"/>
            <attribute name="type" type="CongeType"/>
            <attribute name="startDate" type="Date"/>
            <attribute name="endDate" type="Date"/>
            <attribute name="dateReprise" type="Date"/>
            <attribute name="telephone" type="string"/>
            <attribute name="adresse" type="string"/>
            <attribute name="interim1" type="string"/>
            <attribute name="interim2" type="string"/>
            <attribute name="firstName" type="string"/>
            <attribute name="lastName" type="string"/>
            <attribute name="status" type="CongeStatus"/>
        </attributes>
        <relations>
            <relation name="user" type="ManyToOne" target="User"/>
        </relations>
    </entity>

    <entity name="Notification">
        <attributes>
            <attribute name="id" type="number" primary="true"/>
            <attribute name="message" type="string"/>
            <attribute name="isRead" type="boolean"/>
            <attribute name="createdAt" type="Date"/>
        </attributes>
        <relations>
            <relation name="user" type="ManyToOne" target="User"/>
        </relations>
    </entity>
</entities> 
